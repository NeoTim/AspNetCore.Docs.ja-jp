## <a name="forward-request-information-with-a-proxy-or-load-balancer"></a><span data-ttu-id="3977f-101">プロキシまたはロード バランサーによる要求情報の転送</span><span class="sxs-lookup"><span data-stu-id="3977f-101">Forward request information with a proxy or load balancer</span></span>

<span data-ttu-id="3977f-102">アプリがプロキシ サーバーまたはロード バランサーの背後に展開されると、元の要求情報の一部が要求ヘッダー内でアプリに転送される場合があります。</span><span class="sxs-lookup"><span data-stu-id="3977f-102">If the app is deployed behind a proxy server or load balancer, some of the original request information might be forwarded to the app in request headers.</span></span> <span data-ttu-id="3977f-103">通常、この情報にはセキュアな要求スキーム (`https`)、ホスト、およびクライアント IP アドレスが含まれます。</span><span class="sxs-lookup"><span data-stu-id="3977f-103">This information usually includes the secure request scheme (`https`), host, and client IP address.</span></span> <span data-ttu-id="3977f-104">アプリでは、これらの要求ヘッダーを自動的に読み取って、元の要求情報を検出して使用することはありません。</span><span class="sxs-lookup"><span data-stu-id="3977f-104">Apps don't automatically read these request headers to discover and use the original request information.</span></span>

<span data-ttu-id="3977f-105">スキームは、外部プロバイダーによる認証フローに影響を及ぼすリンクの生成に使用されます。</span><span class="sxs-lookup"><span data-stu-id="3977f-105">The scheme is used in link generation that affects the authentication flow with external providers.</span></span> <span data-ttu-id="3977f-106">セキュアなスキーム (`https`) が失われると、アプリでは、安全ではない不正なリダイレクト URL が生成されます。</span><span class="sxs-lookup"><span data-stu-id="3977f-106">Losing the secure scheme (`https`) results in the app generating incorrect insecure redirect URLs.</span></span>

<span data-ttu-id="3977f-107">Forwarded Headers Middleware を使用して、アプリが要求を処理する際に元の要求情報を利用できるようにします。</span><span class="sxs-lookup"><span data-stu-id="3977f-107">Use Forwarded Headers Middleware to make the original request information available to the app for request processing.</span></span>

<span data-ttu-id="3977f-108">詳細については、「<xref:host-and-deploy/proxy-load-balancer>」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="3977f-108">For more information, see <xref:host-and-deploy/proxy-load-balancer>.</span></span>
